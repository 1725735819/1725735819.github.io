<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://1725735819.github.io</id>
    <title>Gridea</title>
    <updated>2020-09-10T11:25:21.773Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://1725735819.github.io"/>
    <link rel="self" href="https://1725735819.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://1725735819.github.io/images/avatar.png</logo>
    <icon>https://1725735819.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[Spring Bootç³»åˆ—ä¹‹è‡ªåŠ¨é…ç½® åŸç†]]></title>
        <id>https://1725735819.github.io/post/spring-boot-xi-lie-zhi-zi-dong-pei-zhi-yuan-li/</id>
        <link href="https://1725735819.github.io/post/spring-boot-xi-lie-zhi-zi-dong-pei-zhi-yuan-li/">
        </link>
        <updated>2020-09-10T11:17:36.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸è®ºåœ¨å·¥ä½œä¸­ï¼Œäº¦æˆ–æ˜¯æ±‚èŒé¢è¯•ï¼ŒSpring Bootå·²ç»æˆä¸ºæˆ‘ä»¬å¿…çŸ¥å¿…ä¼šçš„æŠ€èƒ½é¡¹ã€‚é™¤äº†æŸäº›è€æ—§çš„æ”¿åºœé¡¹ç›®æˆ–é‡‘èé¡¹ç›®æŒæœ‰è§‚æœ›æ€åº¦å¤–ï¼Œå¦‚ä»Šçš„å„è¡Œå„ä¸šéƒ½åœ¨é£é€Ÿçš„æ‹¥æŠ±è¿™ä¸ªå·²ç»ä¸æ˜¯å¾ˆæ–°çš„Springå¯åŠ¨æ¡†æ¶ã€‚</p>
<p>Spring Bootçš„é…ç½®æ–‡ä»¶<br>
åˆè¯†Spring Bootæ—¶æˆ‘ä»¬å°±çŸ¥é“ï¼ŒSpring Bootæœ‰ä¸€ä¸ªå…¨å±€é…ç½®æ–‡ä»¶ï¼šapplication.propertiesæˆ–application.ymlã€‚<br>
å®˜æ–¹æ–‡æ¡£ï¼š</p>
<pre><code>https://docs.spring.io/spring-boot/docs/2.1.0.RELEASE/reference/htmlsingle/#common-application-properties
</code></pre>
<p>1ã€è‡ªåŠ¨é…ç½®åŸç†ï¼š</p>
<p>1ï¼‰SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½@EnableAutoConfiguration<br>
2ï¼‰@EnableAutoConfiguration ä½œç”¨ï¼š<br>
åˆ©ç”¨EnableAutoConfigurationImportSelectorç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€äº›ç»„ä»¶<br>
å¯ä»¥æŸ¥çœ‹selectImports()æ–¹æ³•çš„å†…å®¹ï¼›<br>
List configurations = getCandidateConfigurations(annotationMetadata, attributes);<br>
è·å–å€™é€‰çš„é…ç½®</p>
<pre><code>SpringFactoriesLoader.loadFactoryNames()
æ‰«ææ‰€æœ‰jaråŒ…ç±»è·¯å¾„ä¸‹ METAâ€INF/spring.factories
æŠŠæ‰«æåˆ°çš„è¿™äº›æ–‡ä»¶çš„å†…å®¹åŒ…è£…æˆpropertieså¯¹è±¡
ä»propertiesä¸­è·å–åˆ°EnableAutoConfiguration.classç±»ï¼ˆç±»åï¼‰å¯¹åº”çš„å€¼ï¼Œç„¶åæŠŠä»–ä»¬æ·»åŠ åœ¨å®¹å™¨ä¸­
</code></pre>
<p>3ï¼‰ã€æ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼›<br>
4ï¼‰ã€ä»¥HttpEncodingAutoConfigurationï¼ˆHttpç¼–ç è‡ªåŠ¨é…ç½®ï¼‰ä¸ºä¾‹è§£é‡Šè‡ªåŠ¨é…ç½®åŸç†ï¼›</p>
<pre><code>@Configuration //è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œä»¥å‰ç¼–å†™çš„é…ç½®æ–‡ä»¶ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶
@EnableConfigurationProperties(HttpEncodingProperties.class) //å¯åŠ¨æŒ‡å®šç±»çš„
ConfigurationPropertiesåŠŸèƒ½ï¼›å°†é…ç½®æ–‡ä»¶ä¸­å¯¹åº”çš„å€¼å’ŒHttpEncodingPropertiesç»‘å®šèµ·æ¥ï¼›å¹¶æŠŠ
HttpEncodingPropertiesåŠ å…¥åˆ°iocå®¹å™¨ä¸­
@ConditionalOnWebApplication //Springåº•å±‚@Conditionalæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆï¼‰ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æœ
æ»¡è¶³æŒ‡å®šçš„æ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»é‡Œé¢çš„é…ç½®å°±ä¼šç”Ÿæ•ˆï¼› åˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦æ˜¯webåº”ç”¨ï¼Œå¦‚æœæ˜¯ï¼Œå½“å‰é…ç½®ç±»ç”Ÿæ•ˆ
@ConditionalOnClass(CharacterEncodingFilter.class) //åˆ¤æ–­å½“å‰é¡¹ç›®æœ‰æ²¡æœ‰è¿™ä¸ªç±»
CharacterEncodingFilterï¼›SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ï¼›
@ConditionalOnProperty(prefix = &quot;spring.http.encoding&quot;, value = &quot;enabled&quot;, matchIfMissing =
true) //åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½® spring.http.encoding.enabledï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ¤æ–­ä¹Ÿæ˜¯æˆç«‹çš„
//å³ä½¿æˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸­ä¸é…ç½®pring.http.encoding.enabled=trueï¼Œä¹Ÿæ˜¯é»˜è®¤ç”Ÿæ•ˆçš„ï¼›
public class HttpEncodingAutoConfiguration {
    //ä»–å·²ç»å’ŒSpringBootçš„é…ç½®æ–‡ä»¶æ˜ å°„äº†
    private final HttpEncodingProperties properties;
//åªæœ‰ä¸€ä¸ªæœ‰å‚æ„é€ å™¨çš„æƒ…å†µä¸‹ï¼Œå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‹¿
public HttpEncodingAutoConfiguration(HttpEncodingProperties properties) {
    this.properties = properties;
}
@Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶çš„æŸäº›å€¼éœ€è¦ä»propertiesä¸­è·å–
@ConditionalOnMissingBean(CharacterEncodingFilter.class) //åˆ¤æ–­å®¹å™¨æ²¡æœ‰è¿™ä¸ªç»„ä»¶ï¼Ÿ
public CharacterEncodingFilter characterEncodingFilter() {
    CharacterEncodingFilter filter = new OrderedCharacterEncodingFilter();
    filter.setEncoding(this.properties.getCharset().name());
    filter.setForceRequestEncoding(this.properties.shouldForce(Type.REQUEST));
    filter.setForceResponseEncoding(this.properties.shouldForce(Type.RESPONSE));
    return filter;
}
</code></pre>
<p>ä¸€ä½†è¿™ä¸ªé…ç½®ç±»ç”Ÿæ•ˆï¼›è¿™ä¸ªé…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­æ·»åŠ å„ç§ç»„ä»¶ï¼›è¿™äº›ç»„ä»¶çš„å±æ€§æ˜¯ä»å¯¹åº”çš„propertiesç±»ä¸­è·å–çš„ï¼Œè¿™äº›ç±»é‡Œé¢çš„æ¯ä¸€ä¸ªå±æ€§åˆæ˜¯å’Œé…ç½®æ–‡ä»¶ç»‘å®šçš„ï¼›<br>
5ï¼‰ã€æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½æ˜¯åœ¨xxxxPropertiesç±»ä¸­å°è£…è€…â€˜ï¼›é…ç½®æ–‡ä»¶èƒ½é…ç½®ä»€ä¹ˆå°±å¯ä»¥å‚ç…§æŸä¸ªåŠŸèƒ½å¯¹åº”çš„è¿™ä¸ªå±æ€§ç±»</p>
<p>2ã€ç»†èŠ‚</p>
<p>2.1@Conditionalæ´¾ç”Ÿæ³¨è§£ï¼ˆSpringæ³¨è§£ç‰ˆåŸç”Ÿçš„@Conditionalä½œç”¨ï¼‰<br>
ä½œç”¨ï¼šå¿…é¡»æ˜¯@ConditionalæŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œæ‰ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ï¼Œé…ç½®é…é‡Œé¢çš„æ‰€æœ‰å†…å®¹æ‰ç”Ÿæ•ˆ</p>
<figure data-type="image" tabindex="1"><img src="https://1725735819.github.io/post-images/1599737061519.jpg" alt="" loading="lazy"></figure>
<p>è‡ªåŠ¨é…ç½®ç±»å¿…é¡»åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼›</p>
<p>æˆ‘ä»¬æ€ä¹ˆçŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½®ç±»ç”Ÿæ•ˆï¼› æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯ç”¨ debug=trueå±æ€§ï¼›æ¥è®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Šï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„çŸ¥é“å“ªäº›è‡ªåŠ¨é…ç½® ç±»ç”Ÿæ•ˆï¼›</p>
<pre><code>=========================
AUTOâ€CONFIGURATION REPORT
=========================
Positive matches:ï¼ˆè‡ªåŠ¨é…ç½®ç±»å¯ç”¨çš„ï¼‰
â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€
DispatcherServletAutoConfiguration matched:
	â€ @ConditionalOnClass found required class
'org.springframework.web.servlet.DispatcherServlet'; @ConditionalOnMissingClass did not find
unwanted class (OnClassCondition)
â€ @ConditionalOnWebApplication (required) found StandardServletEnvironment
(OnWebApplicationCondition)
Negative matches:ï¼ˆæ²¡æœ‰å¯åŠ¨ï¼Œæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è‡ªåŠ¨é…ç½®ç±»ï¼‰
â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€
ActiveMQAutoConfiguration:
Did not match:
â€ @ConditionalOnClass did not find required classes 'javax.jms.ConnectionFactory',
'org.apache.activemq.ActiveMQConnectionFactory' (OnClassCondition)
AopAutoConfiguration:
Did not match:
â€ @ConditionalOnClass did not find required classes
'org.aspectj.lang.annotation.Aspect', 'org.aspectj.lang.reflect.Advice' (OnClassCondition)
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Spring Bootç³»åˆ— ä¹‹Spring Boot æ³¨è§£å¤§å…¨]]></title>
        <id>https://1725735819.github.io/post/spring-boot-xi-lie-zhi-spring-boot-zhu-jie-da-quan/</id>
        <link href="https://1725735819.github.io/post/spring-boot-xi-lie-zhi-spring-boot-zhu-jie-da-quan/">
        </link>
        <updated>2020-09-09T11:32:25.000Z</updated>
        <content type="html"><![CDATA[<p>ä¸€ã€æ³¨è§£(annotations)åˆ—è¡¨<br>
@SpringBootApplicationï¼šåŒ…å«äº†@ComponentScanã€@Configurationå’Œ@EnableAutoConfigurationæ³¨è§£ã€‚å…¶ä¸­@ComponentScanè®©spring Bootæ‰«æåˆ°Configurationç±»å¹¶æŠŠå®ƒåŠ å…¥åˆ°ç¨‹åºä¸Šä¸‹æ–‡ã€‚</p>
<p>@Configuration ç­‰åŒäºspringçš„XMLé…ç½®æ–‡ä»¶ï¼›ä½¿ç”¨Javaä»£ç å¯ä»¥æ£€æŸ¥ç±»å‹å®‰å…¨ã€‚</p>
<p>@EnableAutoConfiguration è‡ªåŠ¨é…ç½®ã€‚</p>
<p>@ComponentScan ç»„ä»¶æ‰«æï¼Œå¯è‡ªåŠ¨å‘ç°å’Œè£…é…ä¸€äº›Beanã€‚</p>
<p>@Componentå¯é…åˆCommandLineRunnerä½¿ç”¨ï¼Œåœ¨ç¨‹åºå¯åŠ¨åæ‰§è¡Œä¸€äº›åŸºç¡€ä»»åŠ¡ã€‚</p>
<p>@RestControlleræ³¨è§£æ˜¯@Controllerå’Œ@ResponseBodyçš„åˆé›†,è¡¨ç¤ºè¿™æ˜¯ä¸ªæ§åˆ¶å™¨bean,å¹¶ä¸”æ˜¯å°†å‡½æ•°çš„è¿”å›å€¼ç›´ æ¥å¡«å…¥HTTPå“åº”ä½“ä¸­,æ˜¯RESTé£æ ¼çš„æ§åˆ¶å™¨ã€‚</p>
<p>@Autowiredè‡ªåŠ¨å¯¼å…¥ã€‚</p>
<p>@PathVariableè·å–å‚æ•°ã€‚</p>
<p>@JsonBackReferenceè§£å†³åµŒå¥—å¤–é“¾é—®é¢˜ã€‚</p>
<p>@RepositoryRestResourcepublicé…åˆspring-boot-starter-data-restä½¿ç”¨ã€‚</p>
<p>äºŒã€æ³¨è§£(annotations)è¯¦è§£<br>
@SpringBootApplicationï¼šç”³æ˜è®©spring bootè‡ªåŠ¨ç»™ç¨‹åºè¿›è¡Œå¿…è¦çš„é…ç½®ï¼Œè¿™ä¸ªé…ç½®ç­‰åŒäºï¼š@Configuration ï¼Œ@EnableAutoConfiguration å’Œ @ComponentScan ä¸‰ä¸ªé…ç½®ã€‚</p>
<pre><code>package com.example.myproject; 
import org.springframework.boot.SpringApplication; 
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication // same as @Configuration @EnableAutoConfiguration @ComponentScan 
public class Application { 
public static void main(String[] args) { 
SpringApplication.run(Application.class, args); 
} 
}
</code></pre>
<p>@ResponseBodyï¼šè¡¨ç¤ºè¯¥æ–¹æ³•çš„è¿”å›ç»“æœç›´æ¥å†™å…¥HTTP response bodyä¸­ï¼Œä¸€èˆ¬åœ¨å¼‚æ­¥è·å–æ•°æ®æ—¶ä½¿ç”¨ï¼Œç”¨äºæ„å»ºRESTfulçš„apiã€‚åœ¨ä½¿ç”¨@RequestMappingåï¼Œè¿”å›å€¼é€šå¸¸è§£æä¸ºè·³è½¬è·¯å¾„ï¼ŒåŠ ä¸Š@responsebodyåè¿”å›ç»“æœä¸ä¼šè¢«è§£æä¸ºè·³è½¬è·¯å¾„ï¼Œè€Œæ˜¯ç›´æ¥å†™å…¥HTTP response bodyä¸­ã€‚æ¯”å¦‚å¼‚æ­¥è·å–jsonæ•°æ®ï¼ŒåŠ ä¸Š@responsebodyåï¼Œä¼šç›´æ¥è¿”å›jsonæ•°æ®ã€‚è¯¥æ³¨è§£ä¸€èˆ¬ä¼šé…åˆ@RequestMappingä¸€èµ·ä½¿ç”¨ã€‚ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code>@RequestMapping(â€œ/testâ€) 
@ResponseBody 
public String test(){ 
returnâ€okâ€; 
}
</code></pre>
<p>@Controllerï¼šç”¨äºå®šä¹‰æ§åˆ¶å™¨ç±»ï¼Œåœ¨spring é¡¹ç›®ä¸­ç”±æ§åˆ¶å™¨è´Ÿè´£å°†ç”¨æˆ·å‘æ¥çš„URLè¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„æœåŠ¡æ¥å£ï¼ˆserviceå±‚ï¼‰ï¼Œä¸€èˆ¬è¿™ä¸ªæ³¨è§£åœ¨ç±»ä¸­ï¼Œé€šå¸¸æ–¹æ³•éœ€è¦é…åˆæ³¨è§£@RequestMappingã€‚ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code>@Controller 
@RequestMapping(â€œ/demoInfoâ€) 
publicclass DemoController { 
@Autowired 
private DemoInfoService demoInfoService;

@RequestMapping(&quot;/hello&quot;)
public String hello(Map&lt;String,Object&gt; map){
   System.out.println(&quot;DemoController.hello()&quot;);
   map.put(&quot;hello&quot;,&quot;from TemplateController.helloHtml&quot;);
   //ä¼šä½¿ç”¨hello.htmlæˆ–è€…hello.ftlæ¨¡æ¿è¿›è¡Œæ¸²æŸ“æ˜¾ç¤º.
   return&quot;/hello&quot;;
}
}
</code></pre>
<p>@RestControllerï¼šç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ç»„ä»¶(å¦‚strutsä¸­çš„action)ï¼Œ@ResponseBodyå’Œ@Controllerçš„åˆé›†ã€‚ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code>package com.kfit.demo.web;

import org.springframework.web.bind.annotation.RequestMapping; 
import org.springframework.web.bind.annotation.RestController;


@RestController 
@RequestMapping(â€œ/demoInfo2â€) 
publicclass DemoController2 {

@RequestMapping(&quot;/test&quot;)
public String test(){
   return&quot;ok&quot;;
}
}
</code></pre>
<p>@RequestMappingï¼šæä¾›è·¯ç”±ä¿¡æ¯ï¼Œè´Ÿè´£URLåˆ°Controllerä¸­çš„å…·ä½“å‡½æ•°çš„æ˜ å°„ã€‚<br>
@EnableAutoConfigurationï¼šSpring Bootè‡ªåŠ¨é…ç½®ï¼ˆauto-configurationï¼‰ï¼šå°è¯•æ ¹æ®ä½ æ·»åŠ çš„jarä¾èµ–è‡ªåŠ¨é…ç½®ä½ çš„Springåº”ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„classpathä¸‹å­˜åœ¨HSQLDBï¼Œå¹¶ä¸”ä½ æ²¡æœ‰æ‰‹åŠ¨é…ç½®ä»»ä½•æ•°æ®åº“è¿æ¥beansï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†è‡ªåŠ¨é…ç½®ä¸€ä¸ªå†…å­˜å‹ï¼ˆin-memoryï¼‰æ•°æ®åº“â€ã€‚ä½ å¯ä»¥å°†@EnableAutoConfigurationæˆ–è€…@SpringBootApplicationæ³¨è§£æ·»åŠ åˆ°ä¸€ä¸ª@Configurationç±»ä¸Šæ¥é€‰æ‹©è‡ªåŠ¨é…ç½®ã€‚å¦‚æœå‘ç°åº”ç”¨äº†ä½ ä¸æƒ³è¦çš„ç‰¹å®šè‡ªåŠ¨é…ç½®ç±»ï¼Œä½ å¯ä»¥ä½¿ç”¨@EnableAutoConfigurationæ³¨è§£çš„æ’é™¤å±æ€§æ¥ç¦ç”¨å®ƒä»¬ã€‚<br>
@ComponentScanï¼šè¡¨ç¤ºå°†è¯¥ç±»è‡ªåŠ¨å‘ç°æ‰«æç»„ä»¶ã€‚ä¸ªäººç†è§£ç›¸å½“äºï¼Œå¦‚æœæ‰«æåˆ°æœ‰@Componentã€@Controllerã€@Serviceç­‰è¿™äº›æ³¨è§£çš„ç±»ï¼Œå¹¶æ³¨å†Œä¸ºBeanï¼Œå¯ä»¥è‡ªåŠ¨æ”¶é›†æ‰€æœ‰çš„Springç»„ä»¶ï¼ŒåŒ…æ‹¬@Configurationç±»ã€‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨@ComponentScanæ³¨è§£æœç´¢beansï¼Œå¹¶ç»“åˆ@Autowiredæ³¨è§£å¯¼å…¥ã€‚å¯ä»¥è‡ªåŠ¨æ”¶é›†æ‰€æœ‰çš„Springç»„ä»¶ï¼ŒåŒ…æ‹¬@Configurationç±»ã€‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨@ComponentScanæ³¨è§£æœç´¢beansï¼Œå¹¶ç»“åˆ@Autowiredæ³¨è§£å¯¼å…¥ã€‚å¦‚æœæ²¡æœ‰é…ç½®çš„è¯ï¼ŒSpring Bootä¼šæ‰«æå¯åŠ¨ç±»æ‰€åœ¨åŒ…ä¸‹ä»¥åŠå­åŒ…ä¸‹çš„ä½¿ç”¨äº†@Service,@Repositoryç­‰æ³¨è§£çš„ç±»ã€‚<br>
@Configurationï¼šç›¸å½“äºä¼ ç»Ÿçš„xmlé…ç½®æ–‡ä»¶ï¼Œå¦‚æœæœ‰äº›ç¬¬ä¸‰æ–¹åº“éœ€è¦ç”¨åˆ°xmlæ–‡ä»¶ï¼Œå»ºè®®ä»ç„¶é€šè¿‡@Configurationç±»ä½œä¸ºé¡¹ç›®çš„é…ç½®ä¸»ç±»â€”â€”å¯ä»¥ä½¿ç”¨@ImportResourceæ³¨è§£åŠ è½½xmlé…ç½®æ–‡ä»¶ã€‚<br>
@Importï¼šç”¨æ¥å¯¼å…¥å…¶ä»–é…ç½®ç±»ã€‚<br>
@ImportResourceï¼šç”¨æ¥åŠ è½½xmlé…ç½®æ–‡ä»¶ã€‚<br>
@Autowiredï¼šè‡ªåŠ¨å¯¼å…¥ä¾èµ–çš„bean<br>
@Serviceï¼šä¸€èˆ¬ç”¨äºä¿®é¥°serviceå±‚çš„ç»„ä»¶<br>
@Repositoryï¼šä½¿ç”¨@Repositoryæ³¨è§£å¯ä»¥ç¡®ä¿DAOæˆ–è€…repositoriesæä¾›å¼‚å¸¸è½¬è¯‘ï¼Œè¿™ä¸ªæ³¨è§£ä¿®é¥°çš„DAOæˆ–è€…repositoriesç±»ä¼šè¢«ComponetScanå‘ç°å¹¶é…ç½®ï¼ŒåŒæ—¶ä¹Ÿä¸éœ€è¦ä¸ºå®ƒä»¬æä¾›XMLé…ç½®é¡¹ã€‚<br>
@Beanï¼šç”¨@Beanæ ‡æ³¨æ–¹æ³•ç­‰ä»·äºXMLä¸­é…ç½®çš„beanã€‚<br>
@Valueï¼šæ³¨å…¥Spring boot application.propertiesé…ç½®çš„å±æ€§çš„å€¼ã€‚ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code>@Value(value = â€œ#{message}â€) 
private String message;
</code></pre>
<p>@Injectï¼šç­‰ä»·äºé»˜è®¤çš„@Autowiredï¼Œåªæ˜¯æ²¡æœ‰requiredå±æ€§ï¼›<br>
@Componentï¼šæ³›æŒ‡ç»„ä»¶ï¼Œå½“ç»„ä»¶ä¸å¥½å½’ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚<br>
@Bean:ç›¸å½“äºXMLä¸­çš„,æ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œè€Œä¸æ˜¯ç±»ï¼Œæ„æ€æ˜¯äº§ç”Ÿä¸€ä¸ªbean,å¹¶äº¤ç»™springç®¡ç†ã€‚<br>
@AutoWiredï¼šè‡ªåŠ¨å¯¼å…¥ä¾èµ–çš„beanã€‚byTypeæ–¹å¼ã€‚æŠŠé…ç½®å¥½çš„Beanæ‹¿æ¥ç”¨ï¼Œå®Œæˆå±æ€§ã€æ–¹æ³•çš„ç»„è£…ï¼Œå®ƒå¯ä»¥å¯¹ç±»æˆå‘˜å˜é‡ã€æ–¹æ³•åŠæ„é€ å‡½æ•°è¿›è¡Œæ ‡æ³¨ï¼Œå®Œæˆè‡ªåŠ¨è£…é…çš„å·¥ä½œã€‚å½“åŠ ä¸Šï¼ˆrequired=falseï¼‰æ—¶ï¼Œå°±ç®—æ‰¾ä¸åˆ°beanä¹Ÿä¸æŠ¥é”™ã€‚<br>
@Qualifierï¼šå½“æœ‰å¤šä¸ªåŒä¸€ç±»å‹çš„Beanæ—¶ï¼Œå¯ä»¥ç”¨@Qualifier(â€œnameâ€)æ¥æŒ‡å®šã€‚ä¸@Autowiredé…åˆä½¿ç”¨ã€‚@Qualifieré™å®šæè¿°ç¬¦é™¤äº†èƒ½æ ¹æ®åå­—è¿›è¡Œæ³¨å…¥ï¼Œä½†èƒ½è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶å¦‚ä½•é€‰æ‹©å€™é€‰è€…ï¼Œå…·ä½“ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code>@Autowired 
@Qualifier(value = â€œdemoInfoServiceâ€) 
private DemoInfoService demoInfoService;
</code></pre>
<p>@Resource(name=â€nameâ€,type=â€typeâ€)ï¼šæ²¡æœ‰æ‹¬å·å†…å†…å®¹çš„è¯ï¼Œé»˜è®¤byNameã€‚ä¸@Autowiredå¹²ç±»ä¼¼çš„äº‹ã€‚<br>
ä¸‰ã€JPAæ³¨è§£<br>
@Entityï¼š@Table(name=â€â€œ)ï¼šè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå®ä½“ç±»ã€‚ä¸€èˆ¬ç”¨äºjpaè¿™ä¸¤ä¸ªæ³¨è§£ä¸€èˆ¬ä¸€å—ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœè¡¨åå’Œå®ä½“ç±»åç›¸åŒçš„è¯ï¼Œ@Tableå¯ä»¥çœç•¥<br>
@MappedSuperClass:ç”¨åœ¨ç¡®å®šæ˜¯çˆ¶ç±»çš„entityä¸Šã€‚çˆ¶ç±»çš„å±æ€§å­ç±»å¯ä»¥ç»§æ‰¿ã€‚<br>
@NoRepositoryBean:ä¸€èˆ¬ç”¨ä½œçˆ¶ç±»çš„repositoryï¼Œæœ‰è¿™ä¸ªæ³¨è§£ï¼Œspringä¸ä¼šå»å®ä¾‹åŒ–è¯¥repositoryã€‚<br>
@Columnï¼šå¦‚æœå­—æ®µåä¸åˆ—åç›¸åŒï¼Œåˆ™å¯ä»¥çœç•¥ã€‚<br>
@Idï¼šè¡¨ç¤ºè¯¥å±æ€§ä¸ºä¸»é”®ã€‚<br>
@GeneratedValue(strategy = GenerationType.SEQUENCE,generator = â€œrepair_seqâ€)ï¼šè¡¨ç¤ºä¸»é”®ç”Ÿæˆç­–ç•¥æ˜¯sequenceï¼ˆå¯ä»¥ä¸ºAutoã€IDENTITYã€nativeç­‰ï¼ŒAutoè¡¨ç¤ºå¯åœ¨å¤šä¸ªæ•°æ®åº“é—´åˆ‡æ¢ï¼‰ï¼ŒæŒ‡å®šsequenceçš„åå­—æ˜¯repair_seqã€‚<br>
@SequenceGeneretor(name = â€œrepair_seqâ€, sequenceName = â€œseq_repairâ€, allocationSize = 1)ï¼šnameä¸ºsequenceçš„åç§°ï¼Œä»¥ä¾¿ä½¿ç”¨ï¼ŒsequenceNameä¸ºæ•°æ®åº“çš„sequenceåç§°ï¼Œä¸¤ä¸ªåç§°å¯ä»¥ä¸€è‡´ã€‚<br>
@Transientï¼šè¡¨ç¤ºè¯¥å±æ€§å¹¶éä¸€ä¸ªåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µçš„æ˜ å°„,ORMæ¡†æ¶å°†å¿½ç•¥è¯¥å±æ€§ã€‚å¦‚æœä¸€ä¸ªå±æ€§å¹¶éæ•°æ®åº“è¡¨çš„å­—æ®µæ˜ å°„,å°±åŠ¡å¿…å°†å…¶æ ‡ç¤ºä¸º@Transient,å¦åˆ™,ORMæ¡†æ¶é»˜è®¤å…¶æ³¨è§£ä¸º@Basicã€‚@Basic(fetch=FetchType.LAZY)ï¼šæ ‡è®°å¯ä»¥æŒ‡å®šå®ä½“å±æ€§çš„åŠ è½½æ–¹å¼<br>
@JsonIgnoreï¼šä½œç”¨æ˜¯jsonåºåˆ—åŒ–æ—¶å°†Java beanä¸­çš„ä¸€äº›å±æ€§å¿½ç•¥æ‰,åºåˆ—åŒ–å’Œååºåˆ—åŒ–éƒ½å—å½±å“ã€‚<br>
@JoinColumnï¼ˆname=â€loginIdâ€ï¼‰:ä¸€å¯¹ä¸€ï¼šæœ¬è¡¨ä¸­æŒ‡å‘å¦ä¸€ä¸ªè¡¨çš„å¤–é”®ã€‚ä¸€å¯¹å¤šï¼šå¦ä¸€ä¸ªè¡¨æŒ‡å‘æœ¬è¡¨çš„å¤–é”®ã€‚<br>
@OneToOneã€@OneToManyã€@ManyToOneï¼šå¯¹åº”hibernateé…ç½®æ–‡ä»¶ä¸­çš„ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹ä¸€ã€‚</p>
<p>å››ã€springMVCç›¸å…³æ³¨è§£</p>
<p>@RequestMappingï¼š@RequestMapping(â€œ/pathâ€)è¡¨ç¤ºè¯¥æ§åˆ¶å™¨å¤„ç†æ‰€æœ‰â€œ/pathâ€çš„UR Lè¯·æ±‚ã€‚RequestMappingæ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç†è¯·æ±‚åœ°å€æ˜ å°„çš„æ³¨è§£ï¼Œå¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚<br>
ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚è¯¥æ³¨è§£æœ‰å…­ä¸ªå±æ€§ï¼š<br>
params:æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›å‚æ•°å€¼æ˜¯ï¼Œæ‰è®©è¯¥æ–¹æ³•å¤„ç†ã€‚<br>
headers:æŒ‡å®šrequestä¸­å¿…é¡»åŒ…å«æŸäº›æŒ‡å®šçš„headerå€¼ï¼Œæ‰èƒ½è®©è¯¥æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚<br>
value:æŒ‡å®šè¯·æ±‚çš„å®é™…åœ°å€ï¼ŒæŒ‡å®šçš„åœ°å€å¯ä»¥æ˜¯URI Template æ¨¡å¼<br>
method:æŒ‡å®šè¯·æ±‚çš„methodç±»å‹ï¼Œ GETã€POSTã€PUTã€DELETEç­‰<br>
consumes:æŒ‡å®šå¤„ç†è¯·æ±‚çš„æäº¤å†…å®¹ç±»å‹ï¼ˆContent-Typeï¼‰ï¼Œå¦‚application/json,text/html;<br>
produces:æŒ‡å®šè¿”å›çš„å†…å®¹ç±»å‹ï¼Œä»…å½“requestè¯·æ±‚å¤´ä¸­çš„(Accept)ç±»å‹ä¸­åŒ…å«è¯¥æŒ‡å®šç±»å‹æ‰è¿”å›<br>
@RequestParamï¼šç”¨åœ¨æ–¹æ³•çš„å‚æ•°å‰é¢ã€‚<br>
@RequestParam<br>
String a =request.getParameter(â€œaâ€)ã€‚<br>
@PathVariable:è·¯å¾„å˜é‡ã€‚å¦‚</p>
<pre><code>RequestMapping(â€œuser/get/mac/{macAddress}â€) 
public String getByMacAddress(@PathVariable String macAddress){ 
//do something; 
} 
</code></pre>
<p>å‚æ•°ä¸å¤§æ‹¬å·é‡Œçš„åå­—ä¸€æ ·è¦ç›¸åŒã€‚</p>
<p>äº”ã€å…¨å±€å¼‚å¸¸å¤„ç†</p>
<p>@ControllerAdviceï¼šåŒ…å«@Componentã€‚å¯ä»¥è¢«æ‰«æåˆ°ã€‚ç»Ÿä¸€å¤„ç†å¼‚å¸¸ã€‚<br>
@ExceptionHandlerï¼ˆException.classï¼‰ï¼šç”¨åœ¨æ–¹æ³•ä¸Šé¢è¡¨ç¤ºé‡åˆ°è¿™ä¸ªå¼‚å¸¸å°±æ‰§è¡Œä»¥ä¸‹æ–¹æ³•ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ideaé¡¹ç›®æ‰“å¼€åï¼Œjavaæ–‡ä»¶æœ‰çº¢è‰²jï¼Œpom.xmlå˜ä¸ºæ™®é€šçš„xmlæ–‡ä»¶]]></title>
        <id>https://1725735819.github.io/post/idea-xiang-mu-da-kai-hou-java-wen-jian-you-hong-se-jpomxml-bian-wei-pu-tong-de-xml-wen-jian/</id>
        <link href="https://1725735819.github.io/post/idea-xiang-mu-da-kai-hou-java-wen-jian-you-hong-se-jpomxml-bian-wei-pu-tong-de-xml-wen-jian/">
        </link>
        <updated>2020-09-08T11:48:04.000Z</updated>
        <content type="html"><![CDATA[<p>1..javaæ–‡ä»¶çš„ç»“å±€æ–¹æ¡ˆ</p>
<p>æ‰“å¼€project Structure</p>
<p>é€‰Modolesé€‰sourceså°†å³è¾¹Add Content Rootä¸­å†…å®¹å…¨éƒ¨ç§»é™¤</p>
<p>ç‚¹å‡»Add Content Rooté‡æ–°æ·»åŠ sourcesï¼Œjæ–‡ä»¶å³å¯å˜æˆjavaæ–‡ä»¶</p>
<p>2.pom.xmlæ–‡ä»¶çš„è§£å†³æ–¹æ¡ˆ</p>
<p>ideaæ²¡æœ‰è¯†åˆ«å‡ºæ¥mavnä¸­çš„pom.xmlæ–‡ä»¶,ä¸èƒ½è‡ªåŠ¨ä¸‹è½½ä¾èµ–åŒ…,</p>
<p>è§£å†³åŠï¼šæ˜¯é€‰ä¸­pom.xmlæ–‡ä»¶,å³é”®&quot; add as maven project&quot;å°±å¯ä»¥äº†</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://1725735819.github.io/post/hello-gridea/</id>
        <link href="https://1725735819.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>